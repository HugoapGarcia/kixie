(this.webpackJsonpkixie=this.webpackJsonpkixie||[]).push([[0],{43:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),c=n(16),o=n.n(c),a=(n(7),n(3)),i=n.n(a),l=n(4),u=n(5),h=n(17),d=n.n(h),j=n(18),b=n(0);function p(){fetch("https://codetogo.io/api/users.xml").then((function(e){return e.text()})).then((function(e){var t=(new DOMParser).parseFromString(e,"application/xml");document.getElementById("output").textContent=e,console.log(t),function(e){for(var t=document.getElementById("users"),n=e.getElementsByTagName("user"),r=0;r<n.length;r++)for(var s=n[r].getElementsByTagName("name"),c=document.createElement("li"),o=0;o<s.length;o++)c.textContent=s[o].childNodes[0].nodeValue,t.appendChild(c)}(t),function(e){var t=e.createElement("user"),n=e.createElement("id");n.appendChild(e.createTextNode("1"));var r=e.createElement("name");r.appendChild(e.createTextNode("Karla")),t.appendChild(n),t.appendChild(r),e.getElementsByTagName("users")[0].appendChild(t),console.log(e),function(e,t){var n=new XMLHttpRequest,r="";n.open("POST",r),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=n.response;alert("".concat(e,": ").concat(t))}},n.setRequestHeader("Content-Type","text/xml"),n.send(e)}(e,"newXML")}(t)}))}function x(){var e=Math.floor(3*Math.random());return"https://httpbin.org/delay/".concat(e,"?delay=").concat(e)}var O=function(){return[x(),x(),x()]};function f(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("testing: "+t),e.next=4,d.a.get(t,{timeout:1900});case 4:return console.log("%cpass: "+t,"color: green"),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),console.log("%cfail: "+t,"color: red"),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e){var t=e.urls,n=Object(r.useState)(t),s=Object(l.a)(n,2),c=s[0],o=s[1],a=Object(r.useState)([]),h=Object(l.a)(a,2),d=h[0],p=h[1],x=Object(r.useState)(!1),w=Object(l.a)(x,2),m=w[0],g=w[1],v=null;function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(i.a.mark((function e(t,n){var r,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.map((function(e,t){return t===n&&(e.btnOnPress="active"),e})),o(r),e.next=4,f(t);case 4:return s=e.sent,a=c.map((function(e,r){return e.url===t&&n===r&&(e.test=s?"pass":"fail",e.textColor=s?"pass":"fail",e.btnOnPress="",e.isCompleted=!0),e})),o(a),e.abrupt("return",a[n].isCompleted?"completed":"untested");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.clearTimeout(v),m){e.next=3;break}return e.abrupt("return");case 3:o(c.map((function(e){return{url:e.url,test:"untested",textColor:"",btnOnPress:""}}))),t=[],n=0;case 6:if(!(n<c.length)){e.next=12;break}return e.next=9,y(c[n].url,n).then((function(e){t.push(e)}));case 9:n++,e.next=6;break;case 12:return console.log("All test are done, syste will re-test every 5 seconds:",t),t.length===c.length&&(v=setTimeout((function(){p(t)}),5e3)),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.useEffect)((function(){m&&function(){k.apply(this,arguments)}(),m||clearTimeout(v)}),[m,d]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Health Checker Component"}),Object(b.jsx)("button",{onClick:function(){o(O().map((function(e){return{url:e,test:"untested",textColor:"",btnOnPress:""}})))},children:"Get New URLs"}),Object(b.jsx)("button",{className:m?"active":"",onClick:function(e){return g(!m)},children:"Auto-check"}),Object(b.jsx)("ul",{children:c.map((function(e,t){return Object(b.jsxs)("li",{children:["server ".concat(t," :  ").concat(e.url),Object(b.jsx)("button",{className:e.btnOnPress,onClick:function(n){return y(e.url,t)},children:"test"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:e.textColor,children:e.test}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]},t)}))})]})}function g(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(O().map((function(e){return{url:e,test:"untested",textColor:"",btnOnPress:""}}))),o=Object(l.a)(c,1)[0];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h2",{children:"Server Health Check Page"}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{onClick:function(e){return s(!n)},children:"Show Health Checker"}),!!n&&Object(b.jsx)(m,{urls:o}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Requirements"}),Object(b.jsx)("h4",{children:"Part 1:"}),"Suppose we have an array of URLs that needs to be tested. You are asked to build a reusable component that can display the list of URLs, their status and show buttons that can be used to test the URLs.",Object(b.jsx)("p",{children:"A) Update the code so when the \u201cShow Health Checker\u201d button is pressed:"}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:'We show/hide the "HealthChecker" component'}),Object(b.jsx)("li",{children:'Update "HealthChecker" component so it would call the getServerUrls() function to get a list of URLS'}),Object(b.jsx)("li",{children:'Update the component to display each URL with its own test button instead of the text "LIST THE LINKS WITH TEST BUTTONS HERE". Show the "untested" status text underneath.'})]}),"B) Update your code so that when a Test button is pressed you would:",Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"Call testUrl to perform the test for each URL"}),Object(b.jsx)("li",{children:"Change the color of the button before calling testUrl to indicate it\u2019s being tested"}),Object(b.jsxs)("li",{children:["Show the result underneath the URL as such:",Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:'If testUrl() returns true show "pass" in green.'}),Object(b.jsx)("li",{children:'If testUrl() returns false show "fail" in red.'})]})]}),Object(b.jsx)("li",{children:"Reset the color of the button back to indicate the test has ended"})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Recommendation:"})," Make the UI/layout as close as to what you see in the video below."]}),Object(b.jsx)("iframe",{src:"https://player.vimeo.com/video/556437590",width:"640",height:"478",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:"Part1"}),Object(b.jsx)("h4",{children:"Part 2:"}),'Add a "Get new URLs" Button that when pressed gets new set of Urls. Replace the previous Urls with the new ones and reset the results underneath each Url to \u201cuntested\u201d.',Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Note:"})," Since the URLs are dynamically generated please make sure hitting Test button does not regenerate new URLs."]}),Object(b.jsx)("h4",{children:"Part 3:"}),"Suppose we want to continuously test the URLs to detect whether the server is alive or dead.",Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:'Add an "Auto-check" button that automatically tests each URL every 5 seconds.'}),Object(b.jsxs)("li",{children:['The "Auto-check" button is a ',Object(b.jsx)("b",{children:"TOGGLE"})," where re-pressing it will stop the automatic testing of the URLs."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Note:"})," Pressing the \u201cGet New URLs\u201d button during the automatic tests should generate new URLs with status of untested. The new URLs should be tested in the next 5 second round."]})]}),Object(b.jsx)("iframe",{src:"https://player.vimeo.com/video/556396090?badge=0&autopause=0&player_id=0&app_id=58479",width:"640",height:"550",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullFcreen:!0,title:"Part 2-3"}),Object(b.jsx)("h4",{children:"Extra Credit"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Clicking Auto-check will immediatly check the URLs and then wait 5 seconds before the next run"}),Object(b.jsx)("li",{children:"Clicking Auto-check will test ALL the URLs synchronously at the same time"})]}),Object(b.jsx)("h3",{children:"CodeSandbox Auto Preview"}),Object(b.jsxs)("p",{children:["By default CodeSandbox has Preview On Edit turned on. As such when you are coding the Browser section of CodeSandbox will refresh automatically and show errors. This behaviour can be turned off so that the browser is only updated when you save a file. Follow steps below to turn off Preview On Edit:",Object(b.jsxs)("ol",{children:[Object(b.jsxs)("li",{children:["Click on"," ",Object(b.jsx)("svg",{viewBox:"0 0 10 7",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",class:"sc-bdnylx eoHNwX",children:Object(b.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 5.806H0v.944h7.5v-.944zm2.25-2.903H0v.944h9.75v-.944zM0 0h9.75v.944H0V0z",fill:"currentColor"})})," ","menu icon next to your name on top left hand side of this page"]}),Object(b.jsx)("li",{children:"Select File | Preferences | CodeSandbox Settings"}),Object(b.jsx)("li",{children:"Select Preview Tab"}),Object(b.jsx)("li",{children:'Turn off "Preview on edit"'})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{onClick:function(e){return p()},children:"Get XML"}),Object(b.jsx)("h3",{children:"XML DATA:"}),Object(b.jsx)("ul",{id:"swords"}),Object(b.jsx)("ul",{id:"users"}),Object(b.jsx)("h2",{children:"Current XML Response :"}),Object(b.jsx)("pre",{id:"output"})]})}var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),c(e),o(e)}))};o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),v()},7:function(e,t,n){}},[[43,1,2]]]);
//# sourceMappingURL=main.13416f94.chunk.js.map